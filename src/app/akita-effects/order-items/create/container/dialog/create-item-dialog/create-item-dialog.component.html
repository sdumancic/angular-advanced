<h2 mat-dialog-title>Create new order item for order {{form.get('orderId').value}}</h2>
<div [formGroup]="form">
  <mat-dialog-content>

    <mat-form-field appearance="outline">
      <mat-label>Product group</mat-label>
      <mat-select formControlName="productGroup" (selectionChange)="onProductGroupChanged($event.value)">
        <mat-option *ngFor="let productGroup of (data.productGroups$ | async)" [value]="productGroup.code">
          {{productGroup.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Product</mat-label>
      <mat-select formControlName="product">
        <mat-option *ngFor="let product of (filteredProducts$ | async)" [value]="product.code">
          {{product.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="quantity-amount-section">
      <mat-form-field appearance="outline" class="section-item">
        <mat-label>Quantity</mat-label>
        <input matInput type="number" placeholder="Quantity" formControlName="quantity" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="section-item">
        <mat-label>Amount</mat-label>
        <input matInput type="number" placeholder="Amount" formControlName="amount" />
      </mat-form-field>
    </div>

    <div class="vat-total-section">
      <mat-form-field appearance="outline" class="section-item">
        <mat-label>VAT amount</mat-label>
        <input matInput type="number" placeholder="VAT amount" formControlName="vatAmount" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="section-item">
        <mat-label>Total Amount</mat-label>
        <input matInput type="number" placeholder="Total Amount" formControlName="totalAmount" />
      </mat-form-field>
    </div>



  </mat-dialog-content>
</div>
<mat-dialog-actions>
  <button mat-raised-button color='primary' [disabled]="!form.valid" [mat-dialog-close]="true"
    (click)="postItem()">Create</button>
  <button mat-raised-button color='warn' mat-dialog-close (click)="onNoClick()" cdkFocusInitial>Cancel</button>

</mat-dialog-actions>
